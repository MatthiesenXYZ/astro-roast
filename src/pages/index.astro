---
import { Divider } from 'astrolace:components';
import PreviousRoasts from '../components/PreviousRoasts.astro';
import Roaster from '../components/Roaster.astro';
import Layout from '../layouts/Layout.astro';
import { getOgImagePath, getRoasts, makeDescription } from '../lib/roastCollection';

// Fetch the last roast for the description and OG image
const roast = (await getRoasts()).lastRoast;

// Generate description and OG image path
const description = makeDescription(roast);
const ogImage = getOgImagePath(roast);
---
<Layout title="Get Roasted" description={description} ogImage={ogImage}>

	<Roaster />
	
	<Divider class="divider web-frame" />

	<PreviousRoasts />
	
</Layout>